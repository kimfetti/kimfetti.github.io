---
layout: page-fullwidth
title: "Measuring Statistical Dispersion with the Gini Coefficient"
subheadline: "Exploratory Data Analysis"
meta_teaser: "A blog post about Gini!"
teaser: "<em>A blog post about Gini!</em>"

header:
    image: birthday_planet_header.jpg
    background-color: "#999999"
    caption: "Voyager Montage by NASA. Public Domain. Credit: NASA."
    caption_url: https://www.nasa.gov/index.html
image:
    thumb: birthday_planet_thumb.jpg
    homepage: birthday_planet_header.jpg
    caption: "Credit: NASA"
    caption_url: https://www.nasa.gov/index.html
categories:
    - mathematics
    - eda
show_meta: true
comments: true
---
<!--more-->

<!--
Content for "abstract" including
- What is statistical dispersion?
- Metric developed by Gini
- UN uses it for ranking countries: wealth vs. income inequality
- I suggest expanding its use to be part of your EDA (measures overall statistical dispersion, yo!)
-->

If you work with data long enough, you are bound to discover that calculating the average of a set of values rarely tells you the full story.  As a simple example, each of the following groups of people have the same **average pay** of $100:
- 100 people who make $100 each
- 50 people who make $150 each and 50 people who make $50
- 1 person who makes $10,000 and 99 people who make nothing

The primary difference is the way money is distributed among each of the 100 people.  The spread of money in this case is called [statistical dispersion][1].  Perhaps the most popular measurement of dispersion is standard deviation or variance.  Standard deviation roughly measures the distance between individual dataset values and the overall group mean. Standard deviation retains the same units as the quantity being measured, since we start with dollars in the previous example, standard deviation will also be reported in dollars.  But other unitless metrics can also be used to understand statistical dispersion.  

One such measurement, [the Gini coefficient][2] also known as the Gini index or Gini ratio, was published in 1912 by Italian statistician and sociologist Corrado Gini.  The historical use of this unitless measure of statistical dispersion has aimed at income or wealth distributions; in fact, despite being developed over 100 years ago, [the United Nations still uses the Gini coefficient in their annual ranking of nations][3] to understand wealth inequities. But the Gini coefficient can be used much more broadly to understand the dispersion of very diverse datasets.  After a more in depth exploration of the formula behind the Gini coefficient, let's take a look at a few use cases that do not involve international economies thus demonstrating that the Gini coefficient can be added to your EDA process to strengthen your analyses.



## Defining Gini

<img style="float: right; padding: 30px;"  src="{{ site.urlimg }}gini_explanation.png" alt="The areas surrounding the Lorenz curve define the Gini coefficient: A/(A+B)" width = "400">

To understand the Gini coefficient, let's first explore the Lorenz curve, a graph developed by Max Lorenz for visualizing income or wealth distribution.  The premise of this curve goes like this: take the incomes of a population and sort them from smallest to greatest.  Then plot these incomes on a curve where the x-values represent the percentage of people seen thus far and the y-values represent the cumulative proportion of wealth accumulated thus far.  For example, if the poorest 30% of the population holds 10% of a population's wealth, the curve should pass through the scaled \\(x,y\\) coordinates (0.3, 0.1).


- Typical definition involving Lorenz curve
- Main idea: Area shrinks as curve pulls away from straight line
- Include approximation via Pareto principle?  (Or save for final takeaways?)

<img src="{{ site.urlimg }}gini_compare.png" alt="Gini coefficient increases with wealth inequity." width = "1200">


<img src="{{ site.urlimg }}gini_animation.gif" alt="The Gini coefficient increases as the inequity gap widens." width = "400">



## Gini in Python

- Libraries available
- Mathy definitions


## Case \#1: Baby Names

- Dataset
- Top names are all males which leads to theory of different statistical dispersion
- Measure Gini across time

## Case \#2: Healthcare Prices

- Different procedures have different distributions -- need regulation or more transparency?

## Conclusion

- Recap of findings
- Pros and Cons of Gini
- Metric is lossy: exmaples of two distributions that have the same Gini values
- As with any metric, next step is WHY?  (Gini for nation's inequality can miss aging population, government assistance, etc.) 
Domain knowledge is critical!

[Check out this code on GitHub!](https://github.com/kimfetti/Blog/blob/master/planetary_birthday_problem.ipynb)  ||  [Check out this viz on Tableau!](https://public.tableau.com/profile/kimberly.fessel#!/vizhome/PlanetaryBirthdayProblem/Planets-50)

 [1]: https://en.wikipedia.org/wiki/Statistical_dispersion
 [2]: https://en.wikipedia.org/wiki/Gini_coefficient
 [3]: https://www.bbc.com/news/blogs-magazine-monitor-31847943