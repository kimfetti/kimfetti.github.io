<!doctype html>
<html class="no-js" lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Simple Ways to Improve Your Matplotlib</title>

    <link rel="stylesheet" type="text/css" href="http://localhost:4000//assets/css/styles_feeling_responsive.css">

  

	<script type="text/javascript" async
			src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
	</script>

    <script src="http://localhost:4000//assets/js/modernizr.min.js"></script>

	<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
	<script>
		WebFont.load({
			google: {
				families: [ 'Lato:400,700,400italic:latin', 'Volkhov::latin' ]
			}
		});
	</script>

	<noscript>
		<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic%7CVolkhov' rel='stylesheet' type='text/css'>
	</noscript>


	<!-- Search Engine Optimization -->
	<meta name="description" content="Matplotlib&#39;s default properties often yield unappealing plots that can be off-putting to many users.  This post offers several simple ways to improve upon these defaults and help spruce up your matplotlib visualizations.">
	<meta name="google-site-verification" content="Vk0IOJ2jwG_qEoG7fuEXYqv0m2rLa8P778Fi_GrsgEQ">
	<meta name="msvalidate.01" content="0FB4C028ABCF07C908C54386ABD2D97F" >
	
	<link rel="author" href="https://plus.google.com/105464329327164540117">
	
	
	<link rel="canonical" href="http://localhost:4000//visualizations/matplotlib-updates/">


	<!-- Facebook Open Graph -->
	<meta property="og:title" content="Simple Ways to Improve Your Matplotlib">
	<meta property="og:description" content="Matplotlib&#39;s default properties often yield unappealing plots that can be off-putting to many users.  This post offers several simple ways to improve upon these defaults and help spruce up your matplotlib visualizations.">
	<meta property="og:url" content="http://localhost:4000//visualizations/matplotlib-updates/">
	<meta property="og:locale" content="en_EN">
	<meta property="og:type" content="website">
	<meta property="og:site_name" content="Kimberly Fessel Blog">
	
	<meta property="article:author" content="https://www.facebook.com/">


	
	<!-- Twitter -->
	<meta name="twitter:card" content="summary">
	<meta name="twitter:site" content="">
	<meta name="twitter:creator" content="">
	<meta name="twitter:title" content="Simple Ways to Improve Your Matplotlib">
	<meta name="twitter:description" content="Matplotlib&#39;s default properties often yield unappealing plots that can be off-putting to many users.  This post offers several simple ways to improve upon these defaults and help spruce up your matplotlib visualizations.">
	
	

	<link type="text/plain" rel="author" href="http://localhost:4000//humans.txt">

	

	

	<link rel="icon" sizes="32x32" href="http://localhost:4000//assets/img/favicon-32x32.png">

	<link rel="icon" sizes="192x192" href="http://localhost:4000//assets/img/touch-icon-192x192.png">

	<link rel="apple-touch-icon-precomposed" sizes="180x180" href="http://localhost:4000//assets/img/apple-touch-icon-180x180-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="152x152" href="http://localhost:4000//assets/img/apple-touch-icon-152x152-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000//assets/img/apple-touch-icon-144x144-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="120x120" href="http://localhost:4000//assets/img/apple-touch-icon-120x120-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000//assets/img/apple-touch-icon-114x114-precomposed.png">

	
	<link rel="apple-touch-icon-precomposed" sizes="76x76" href="http://localhost:4000//assets/img/apple-touch-icon-76x76-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000//assets/img/apple-touch-icon-72x72-precomposed.png">

	<link rel="apple-touch-icon-precomposed" href="http://localhost:4000//assets/img/apple-touch-icon-precomposed.png">	

	<meta name="msapplication-TileImage" content="http://localhost:4000//assets/img/msapplication_tileimage.png">

	<meta name="msapplication-TileColor" content="#fabb00">


	

</head>
<body id="top-of-page" class="page-fullwidth">
	
	
<div id="navigation" class="sticky">
  <nav class="top-bar" role="navigation" data-topbar>
    <ul class="title-area">
      <li class="name">
      <h1 class="show-for-small-only"><a href="http://localhost:4000/" class="icon-tree"> Kimberly Fessel Blog</a></h1>
    </li>
       <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
      <li class="toggle-topbar menu-icon"><a href="#"><span>Nav</span></a></li>
    </ul>
    <section class="top-bar-section">

      <ul class="right">
        

              

          
          
        

              

          
          
        

              

          
          
            
            
              <li class="divider"></li>
              <li><a  href="http://localhost:4000//info/">About</a></li>

            
            
          
        

              

          
          
            
            
              <li class="divider"></li>
              <li><a  href="http://localhost:4000//contact/">Contact</a></li>

            
            
          
        
        
      </ul>

      <ul class="left">
        

              

          
          

            
            
              <li><a  href="http://localhost:4000//">Home</a></li>
              <li class="divider"></li>

            
            
          
        

              

          
          

            
            
              <li><a  href="http://localhost:4000//blog/">Blog</a></li>
              <li class="divider"></li>

            
            
          
        

              

          
          
        

              

          
          
        
        
      </ul>
    </section>
  </nav>
</div><!-- /#navigation -->

	

	

<div id="masthead-with-background-color" style="background: #999999;">
	<div class="row">
		<figure class="small-12 columns">
			<img src="https://kimfetti.github.io/images//birthday_planet_header.jpg" alt="Kimberly Fessel Blog">
		</figure><!-- /.small-12.columns -->
	</div><!-- /.row -->
</div><!-- /#masthead -->




<div class="masthead-caption">
	<a href="https://www.nasa.gov/index.html">Voyager Montage by NASA. Public Domain. Credit: NASA.</a>
</div>







	


<div class="row t30">
	<div class="medium-12 columns">
		<article>
			<header>
				<p class="subheadline">Data Visualizations</p>
				<h1>Simple Ways to Improve Your Matplotlib</h1>
			</header>

			
			<p class="teaser">
				<em>Matplotlib's default properties often yield unappealing plots that can be off-putting to many users.  This post offers several simple ways to improve upon these defaults and help spruce up your matplotlib visualizations.</em>
			</p>
			

			<!--more-->

<p>Intro statements - the defaults for matplotlib aren’t great.  Can move to Seaborn (more on that later) but you can also use special commands to make your matplotlib plots look a lot better.</p>

<p>I recently gave a talk at ODSC NYC about data visualization…</p>

<p>Cereal data used for all examples below</p>

<h2 id="remove-spines">Remove Spines</h2>

<p>The first matplotlib default that we may want to update is the black box that surrounds each plot, so called “spines” in matplotlib.  One way to do this is to <a href="https://matplotlib.org/3.1.1/api/_as_gen/matplotlib.pyplot.gca.html">get the current axis</a> through pyplot and update the visibility of each spine as desired.</p>

<p>Let’s say we want to turn off the top and right spines, for example.  If we have imported matplotlib’s pyplot submodule with:</p>
<div class="highlighter-rouge"><pre class="highlight"><code>from matplotlib import pyplot as plt
</code></pre>
</div>
<p>we just need to add the following to our code to improve matplotlib’s defaults:</p>
<div class="highlighter-rouge"><pre class="highlight"><code>plt.gca().spines['top'].set_visible(False)
plt.gca().spines['right'].set_visible(False)
</code></pre>
</div>

<center>
<img src="https://kimfetti.github.io/images/spines.png" alt="Remove matplotlib spines" width="800" />
<p><em>Removing distracting spines can help people focus on your visual.</em></p>
</center>

<h2 id="explore-color-options">Explore Color Options</h2>

<p>Matplotlib’s <a href="https://matplotlib.org/3.1.1/users/dflt_style_changes.html#colors-color-cycles-and-color-maps">default colors just got an update</a> but you can still easily change them to make your plots more attractive or even to reflect your company’s brand colors.</p>

<h3 id="hex-codes">Hex Codes</h3>

<p>One of my favorite methods for updating matplotlib’s colors is to directly pass <a href="https://htmlcolorcodes.com/">hex codes</a> into the color argument because it allows me to be very specific about my color choices.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>plt.scatter(..., color='#0000CC')
</code></pre>
</div>

<p><a href="https://www.w3schools.com/colors/colors_picker.asp">This handy tool</a> can help you select an appropriate hex color by testing it against white and black text as well as comparing several lighter and darker shades.  Alternatively, you can take a more scientific approach to choosing your palette by checking out <a href="http://vrl.cs.brown.edu/color">Colorgorical</a> by Connor Gramazio out of the Brown Visualization Research Lab.  The Colorgorical tool allows you to build a color palette by balancing various preferences like human perceptual difference and aesthetic pleasure.</p>

<h3 id="xkcd-colors">xkcd Colors</h3>

<p>Another great way to update matplotlib’s default colors is to utilize the <a href="https://xkcd.com/color/rgb/">xkcd color library</a>.  These 954 colors were specifically curated and named by the several hundred thousand participants of the <a href="https://blog.xkcd.com/2010/05/03/color-survey-results/">xkcd color name survey</a>.  You can use them in matplotlib by prefixing their names with ‘xkcd:’.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>plt.scatter(..., color='xkcd:lightish blue')
</code></pre>
</div>

<center>
<img src="https://kimfetti.github.io/images/color.png" alt="Explore matplotlib colors" width="900" />
<p><em>Matplotlib default colors can easily be updated by passing hex codes or referencing the xkcd library.</em></p>
</center>

<h2 id="layer-visuals">Layer Visuals</h2>

<p>Matplotlib allows users to layer multiple graphics on top of each other, which can help when comparing results or setting baselines.  Two useful properties can help control layer opacity (<code class="highlighter-rouge">alpha</code>) and ordering (<code class="highlighter-rouge">zorder</code>).</p>

<h3 id="opacity">Opacity</h3>

<p>The alpha property in matplotlib controls an object’s opacity.  This value ranges from zero to one with zero being fully transparent (invisible 👀) and one being entirely opaque.  Reducing alpha will make your plot objects see-through, allowing multiple layers to be seen at once, and this may also be useful if you are building a scatter plot with overlapping points.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>plt.scatter(..., alpha=0.5)
</code></pre>
</div>

<center>
<img src="https://kimfetti.github.io/images/alpha.png" alt="Adjust matplotlib opacity" width="800" />
<p><em>Reducing opacity by decreasing alpha can help visualize points that overlap.</em></p>
</center>

<h3 id="order">Order</h3>

<p>Matplotlib’s zorder property, however, controls how close objects are to the foreground.  Objects with smaller values for zorder are closer to the background, while those larger zorder values appear closer to the front.  For example, if I’m making a scatter plot with an accompanying line plot, I can bring the line forward by making its zorder larger.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>plt.scatter(..., zorder=1)
plt.plot(..., zorder=2)
</code></pre>
</div>

<center>
<img src="https://kimfetti.github.io/images/zorder.png" alt="Control layer order with zorder" width="600" />
<p><em> Plot objects can be brought to the foreground or pushed to the background by changing zorder.</em></p>
</center>

<h2 id="annotate-main-points-or-examples">Annotate Main Points or Examples</h2>

<p>An extremely powerful way to convey a specific point or add validity to your results is to directly annotate your matplotlib visuals with main points or specific illustrative examples.  To do this, just add annotation code specifying the desired text and position to your matplotlib visual.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>plt.annotate(TEXT, (X_POSITION, Y_POSITION))
</code></pre>
</div>

<p>When first approaching this cereal dataset, one might assume that “rating” is some kind score indicating cereals that consumers prefer.  In the zorder figure above, however, I built a quick linear regression model which shows that the correlation between calories per cup and ratings is practically non-existent, which makes the theory that “rating” is a consumer preference score unlikely.  This misconception becomes even more obvious once I take a look at the extremes: Cap’n Crunch has a very low rating while All-Bran with Extra Fiber is rated very highly.  And the cereal with the most calories per cup, Grape Nuts, is likely not meant to be consumed in such large quantities!</p>

<center>
<img src="https://kimfetti.github.io/images/annotate.png" alt="Annotate examples" width="700" />
<p><em> Annotating your visuals with a few examples can add legitimacy.</em></p>
</center>

<h2 id="baseline-and-highlight">Baseline and Highlight</h2>

<p>Adding a baseline to your visuals helps set expectations, which a shaded region can further emphasize your conclusions.  A simple horizontal line or background shading provides others with appropriate context and can speed along their understanding of your results.</p>

<h3 id="horizontal-and-vertical-lines">Horizontal and Vertical Lines</h3>

<p>For the examples that follows, let’s consider the interplay between fat and sugar in our cereal dataset.  Simply plotting this relationship doesn’t look too interesting at first, but it turns out the median fat per cup for these cereals is just 1 gram because many cereals contain no fat at all.  Adding this baseline helps people understand this fact much quicker.</p>

<center>
<img src="https://kimfetti.github.io/images/baseline.png" alt="Add a baseline" width="800" />
<p><em> A horizontal or vertical baseline can help set the stage for your data.</em></p>
</center>

<p>In some cases, you may want to completely remove the default x- and y-axes that matplotlib provides and create your own axes based on some aggregate of the data.  This situation just requires removing spines as we did before, removing tick marks, and adding a horizontal and vertical lines.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>#Remove ticks
plt.xticks([])
plt.yticks([])

#Horizontal and vertical lines
plt.axhline(Y_POSITION, ...)  #horizontal line
plt.axvline(X_POSITION, ...)  #vertical line
</code></pre>
</div>

<center>
<img src="https://kimfetti.github.io/images/new_axes.png" alt="Add a baseline" width="600" />
<p><em> You can also create new axes for your data by removing spines and ticks and adding custom lines.</em></p>
</center>

<h3 id="rectangle">Rectangle</h3>

<h3 id="background-shading">Background shading</h3>

<p>Also include zorder, alpha here</p>

<table>
  <tbody>
    <tr>
      <td><a href="https://github.com/kimfetti/Blog/blob/master/planetary_birthday_problem.ipynb">Check out this code on GitHub!</a></td>
      <td> </td>
      <td><a href="bit.ly/odscNyc19_dataviz">Check out my ODSC conference materials with Google Colab!</a></td>
    </tr>
  </tbody>
</table>



			
						<div id="page-meta" class="t30">
				<p>
					<!-- Look the author details up from the site config. -->
					
					<!-- Output author details if some exist. -->
					

				
				<time class="icon-calendar pr20" datetime="2019-08-05T00:00:00-04:00" itemprop="datePublished"> 2019-08-05</time>
				

				<span class="icon-archive pr20"> VISUALIZATIONS</span>
				<br />
				<span class="pr20"></span>
			</p>

			
			<div id="post-nav" class="row">
				
				<div class="small-5 columns"><a class="button small radius prev" href="http://localhost:4000//mathematics/visualizations/planetary-birthday-problem/">&laquo; Solving the Birthday Problem on Mars</a></div><!-- /.small-4.columns -->
				
				<div class="small-2 columns text-center"><a class="radius button small" href="http://localhost:4000//blog/archive/" title="Blog Archive">Archive</a></div><!-- /.small-4.columns -->
				
				<div class="small-5 columns text-right"></div><!-- /.small-4.columns -->
				
			</div>
			
			</div><!--  /.page-meta -->

			

			
						
				<h3 id="comments" class="t60">Dialogue &amp; Discussion</h3>
			    <div id="disqus_thread"></div>
			    <script type="text/javascript">
			        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
			        var disqus_shortname = 'kimfetti-github-io'; 
			        var disqus_identifier = '/visualizations/matplotlib-updates/';

			        /* * * DON'T EDIT BELOW THIS LINE * * */
			        (function() {
			            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
			            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
			            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
			        })();
			    </script>
			    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
			



			

		</article>
	</div><!-- /.medium-12.columns -->
</div><!-- /.row -->




	
	    <div id="up-to-top" class="row">
      <div class="small-12 columns" style="text-align: right;">
        <a class="iconfont" href="#top-of-page">&#xf108;</a>
      </div><!-- /.small-12.columns -->
    </div><!-- /.row -->


    <footer id="footer-content" class="bg-grau">
      <div id="footer">
        <div class="row">
          <div class="medium-6 large-5 columns">
            <h5 class="shadow-black">About This Site</h5>

            <p class="shadow-black">
              Kimberly Fessel is a Senior Data Scientist at Metis. Her enthusiasm for data storytelling often leads her toward better math, better visuals, and better science!
              <a href="http://localhost:4000//info/">More ›</a>
            </p>
          </div><!-- /.large-6.columns -->


          <div class="small-6 medium-3 large-3 large-offset-1 columns">
            
              
                <h5 class="shadow-black">Extras</h5>
              
            
              
            
              
            
              
            

              <ul class="no-bullet shadow-black">
              
                
                  <li >
                    <a href="http://localhost:4000/"  title=""></a>
                  </li>
              
                
                  <li >
                    <a href="http://localhost:4000//info/"  title="Learn more about Kimberly">About</a>
                  </li>
              
                
                  <li >
                    <a href="http://localhost:4000//contact/"  title="Contact Kimberly">Contact</a>
                  </li>
              
                
                  <li >
                    <a href="https://www.thisismetis.com" target="_blank"  title="Learn more about Metis">This is Metis</a>
                  </li>
              
              </ul>
          </div><!-- /.large-4.columns -->


          <div class="small-6 medium-3 large-3 columns">
            
              
                <h5 class="shadow-black">Thank You</h5>
              
            
              
            

            <ul class="no-bullet shadow-black">
            
              
                <li >
                  <a href="http://localhost:4000/"  title=""></a>
                </li>
            
              
                <li class="network-entypo" >
                  <a href="http://www.connellypartners.com/who-we-are/" target="_blank"  title="Photoshoot @ CP">Photoshoot @ CP</a>
                </li>
            
            </ul>
          </div><!-- /.large-3.columns -->
        </div><!-- /.row -->

      </div><!-- /#footer -->


      <div id="subfooter">
        <nav class="row">
          <section id="subfooter-left" class="small-12 medium-6 columns credits">
            <p>Template with &hearts; by <a href="http://phlow.de/">Phlow</a> with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> based on <a href="http://phlow.github.io/feeling-responsive/">Feeling Responsive</a>.</p>
          </section>

          <section id="subfooter-right" class="small-12 medium-6 columns">
            <ul class="inline-list social-icons">
            
              <li><a href="https://www.linkedin.com/in/kimberlyfessel/" target="_blank" class="icon-linkedin" title="Professional profile"></a></li>
            
              <li><a href="http://github.com/kimfetti" target="_blank" class="icon-github" title="Code and more"></a></li>
            
            </ul>
          </section>
        </nav>
      </div><!-- /#subfooter -->
    </footer>

	

	


<script src="http://localhost:4000//assets/js/javascript.min.js"></script>







<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-131656438-1', 'auto');
  ga('set', 'anonymizeIp', true);
  ga('send', 'pageview');

</script>








</body>
</html>

