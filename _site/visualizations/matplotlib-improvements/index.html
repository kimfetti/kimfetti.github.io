<!doctype html>
<html class="no-js" lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Simple Ways to Improve Your Matplotlib</title>

    <link rel="stylesheet" type="text/css" href="http://localhost:4000//assets/css/styles_feeling_responsive.css">

  

	<script type="text/javascript" async
			src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
	</script>

    <script src="http://localhost:4000//assets/js/modernizr.min.js"></script>

	<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
	<script>
		WebFont.load({
			google: {
				families: [ 'Lato:400,700,400italic:latin', 'Volkhov::latin' ]
			}
		});
	</script>

	<noscript>
		<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic%7CVolkhov' rel='stylesheet' type='text/css'>
	</noscript>


	<!-- Search Engine Optimization -->
	<meta name="description" content="Matplotlib&#39;s default properties often yield unappealing plots that can be off-putting to many users.  This post offers several simple ways to improve upon these defaults and help spruce up basic Matplotlib visualizations.">
	<meta name="google-site-verification" content="Vk0IOJ2jwG_qEoG7fuEXYqv0m2rLa8P778Fi_GrsgEQ">
	<meta name="msvalidate.01" content="0FB4C028ABCF07C908C54386ABD2D97F" >
	
	<link rel="author" href="https://plus.google.com/105464329327164540117">
	
	
	<link rel="canonical" href="http://localhost:4000//visualizations/matplotlib-improvements/">


	<!-- Facebook Open Graph -->
	<meta property="og:title" content="Simple Ways to Improve Your Matplotlib">
	<meta property="og:description" content="Matplotlib&#39;s default properties often yield unappealing plots that can be off-putting to many users.  This post offers several simple ways to improve upon these defaults and help spruce up basic Matplotlib visualizations.">
	<meta property="og:url" content="http://localhost:4000//visualizations/matplotlib-improvements/">
	<meta property="og:locale" content="en_EN">
	<meta property="og:type" content="website">
	<meta property="og:site_name" content="Kimberly Fessel Blog">
	
	<meta property="article:author" content="https://www.facebook.com/">


	
	<!-- Twitter -->
	<meta name="twitter:card" content="summary">
	<meta name="twitter:site" content="">
	<meta name="twitter:creator" content="">
	<meta name="twitter:title" content="Simple Ways to Improve Your Matplotlib">
	<meta name="twitter:description" content="Matplotlib&#39;s default properties often yield unappealing plots that can be off-putting to many users.  This post offers several simple ways to improve upon these defaults and help spruce up basic Matplotlib visualizations.">
	
	

	<link type="text/plain" rel="author" href="http://localhost:4000//humans.txt">

	

	

	<link rel="icon" sizes="32x32" href="http://localhost:4000//assets/img/favicon-32x32.png">

	<link rel="icon" sizes="192x192" href="http://localhost:4000//assets/img/touch-icon-192x192.png">

	<link rel="apple-touch-icon-precomposed" sizes="180x180" href="http://localhost:4000//assets/img/apple-touch-icon-180x180-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="152x152" href="http://localhost:4000//assets/img/apple-touch-icon-152x152-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000//assets/img/apple-touch-icon-144x144-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="120x120" href="http://localhost:4000//assets/img/apple-touch-icon-120x120-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000//assets/img/apple-touch-icon-114x114-precomposed.png">

	
	<link rel="apple-touch-icon-precomposed" sizes="76x76" href="http://localhost:4000//assets/img/apple-touch-icon-76x76-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000//assets/img/apple-touch-icon-72x72-precomposed.png">

	<link rel="apple-touch-icon-precomposed" href="http://localhost:4000//assets/img/apple-touch-icon-precomposed.png">	

	<meta name="msapplication-TileImage" content="http://localhost:4000//assets/img/msapplication_tileimage.png">

	<meta name="msapplication-TileColor" content="#fabb00">


	

</head>
<body id="top-of-page" class="page-fullwidth">
	
	
<div id="navigation" class="sticky">
  <nav class="top-bar" role="navigation" data-topbar>
    <ul class="title-area">
      <li class="name">
      <h1 class="show-for-small-only"><a href="http://localhost:4000/" class="icon-tree"> Kimberly Fessel Blog</a></h1>
    </li>
       <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
      <li class="toggle-topbar menu-icon"><a href="#"><span>Nav</span></a></li>
    </ul>
    <section class="top-bar-section">

      <ul class="right">
        

              

          
          
        

              

          
          
        

              

          
          
            
            
              <li class="divider"></li>
              <li><a  href="http://localhost:4000//info/">About</a></li>

            
            
          
        

              

          
          
            
            
              <li class="divider"></li>
              <li><a  href="http://localhost:4000//contact/">Contact</a></li>

            
            
          
        
        
      </ul>

      <ul class="left">
        

              

          
          

            
            
              <li><a  href="http://localhost:4000//">Home</a></li>
              <li class="divider"></li>

            
            
          
        

              

          
          

            
            
              <li><a  href="http://localhost:4000//blog/">Blog</a></li>
              <li class="divider"></li>

            
            
          
        

              

          
          
        

              

          
          
        
        
      </ul>
    </section>
  </nav>
</div><!-- /#navigation -->

	

	

<div id="masthead-with-background-color" style="background: #999999;">
	<div class="row">
		<figure class="small-12 columns">
			<img src="https://kimfetti.github.io/images//lego_header.jpg" alt="Kimberly Fessel Blog">
		</figure><!-- /.small-12.columns -->
	</div><!-- /.row -->
</div><!-- /#masthead -->




<div class="masthead-caption">
	<a href="http://bit.ly/31rt1Zq">Photo by Alice Bartlett. Cropped and resized by author.</a>
</div>







	


<div class="row t30">
	<div class="medium-12 columns">
		<article>
			<header>
				<p class="subheadline">Data Visualization</p>
				<h1>Simple Ways to Improve Your Matplotlib</h1>
			</header>

			
			<p class="teaser">
				<em>Matplotlib's default properties often yield unappealing plots that can be off-putting to many users.  This post offers several simple ways to improve upon these defaults and help spruce up basic Matplotlib visualizations.</em>
			</p>
			

			<!--more-->

<p><a href="https://matplotlib.org/">Matplotlib</a> is typically the first data visualization package that Python programmers learn.  While its users can create basic figures with just a few lines of code, these resulting default plots often prove insufficient in both design aesthetics and communicative power.  Simple adjustments can lead to dramatic improvements, however, and in this post, I will share several tips on how to upgrade your Matplotlib figures.</p>

<p>In the examples that follow, I will be using information found in <a href="https://www.kaggle.com/crawford/80-cereals">this Kaggle dataset about cereals</a>.  I have normalized three features (calories, fat, and sugar) by serving size to better compare cereal nutrition and ratings.  Details about these data transformations and the code used to generate each example figure can be found on <a href="https://github.com/kimfetti/Blog/blob/master/matplotlib_improvements.ipynb">GitHub</a>.</p>

<h2 id="remove-spines">Remove Spines</h2>

<p>The first Matplotlib default to update is that black box surrounding each plot, comprised of four so-called ‚Äúspines.‚Äù  To adjust them we first <a href="https://matplotlib.org/3.1.1/api/_as_gen/matplotlib.pyplot.gca.html">get our figure‚Äôs axes</a> via pyplot and then change the visibility of each individual spine as desired.</p>

<p>Let‚Äôs say, for example, we want to remove the top and right spines.  If we have imported Matplotlib‚Äôs pyplot submodule with:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
</code></pre>
</div>

<p>we just need to add the following to our code:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s">'top'</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s">'right'</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
</code></pre>
</div>

<p>and the top and right spines will no longer appear.  Removing these distracting lines allows more focus to be directed toward your data.</p>

<center>
<img src="https://kimfetti.github.io/images/spines.png" alt="Remove matplotlib spines" width="800" />
<p><em>Removing distracting spines can help people focus on your data.</em></p>
</center>

<h2 id="explore-color-options">Explore Color Options</h2>

<p>Matplotlib‚Äôs <a href="https://matplotlib.org/3.1.1/users/dflt_style_changes.html#colors-color-cycles-and-color-maps">default colors just got an upgrade</a> but you can still easily change them to make your plots more attractive or even to reflect your company‚Äôs brand colors.</p>

<h3 id="hex-codes">Hex Codes</h3>

<p>One of my favorite methods for updating Matplotlib‚Äôs colors is directly passing <a href="https://htmlcolorcodes.com/">hex codes</a> into the color argument because it allows me to be extremely specific about my color choices.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'#0000CC'</span><span class="p">)</span>
</code></pre>
</div>

<p><a href="https://www.w3schools.com/colors/colors_picker.asp">This handy tool</a> can help you select an appropriate hex color by testing it against white and black text as well as comparing several lighter and darker shades.  Alternatively, you can take a more scientific approach when choosing your palette by checking out <a href="http://vrl.cs.brown.edu/color">Colorgorical</a> by Connor Gramazio from the Brown Visualization Research Lab.  The Colorgorical tool allows you to build a color palette by balancing various preferences like human perceptual difference and aesthetic pleasure.</p>

<h3 id="xkcd-colors">xkcd Colors</h3>

<p>The <a href="https://xkcd.com/color/rgb/">xkcd color library</a> provides another great way to update Matplotlib‚Äôs default colors.  These 954 colors were specifically curated and named by several hundred thousand participants of the <a href="https://blog.xkcd.com/2010/05/03/color-survey-results/">xkcd color name survey</a>.  You can use them in Matplotlib by prefixing their names with ‚Äúxkcd:‚Äù.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'xkcd:lightish blue'</span><span class="p">)</span>
</code></pre>
</div>

<center>
<img src="https://kimfetti.github.io/images/color.png" alt="Explore matplotlib colors" width="900" />
<p><em>Matplotlib's default colors can easily be updated by passing hex codes or referencing the xkcd library.</em></p>
</center>

<h2 id="layer-graph-objects">Layer Graph Objects</h2>

<p>Matplotlib allows users to layer multiple graphics on top of each other, which proves convenient when comparing results or setting baselines.  Two useful properties should be utilized while layering: 1) <code class="highlighter-rouge">alpha</code> for controlling each component‚Äôs opacity and 2) <code class="highlighter-rouge">zorder</code> for moving objects to the foreground or background.</p>

<h3 id="opacity">Opacity</h3>

<p>The alpha property in Matplotlib adjusts an object‚Äôs opacity.  This value ranges from zero to one with zero being fully transparent (invisible üëÄ) and one being entirely opaque.  Reducing alpha will make your plot objects see-through, allowing multiple layers to be seen at once as well as allowing overlapping points to be distinguished, say, in a scatter plot.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</code></pre>
</div>

<center>
<img src="https://kimfetti.github.io/images/alpha.png" alt="Adjust matplotlib opacity" width="800" />
<p><em>Decreasing alpha reduces opacity and can help you visualize overlapping points.</em></p>
</center>

<h3 id="order">Order</h3>

<p>Matplotlib‚Äôs zorder property determines how close objects are to the foreground.  Objects with smaller zorder values appear closer to the background, while those with larger values present closer to the front.  If I‚Äôm making a scatter plot with an accompanying line plot, for example, I can bring the line forward by increasing its zorder.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  <span class="c">#background</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>     <span class="c">#foreground</span>
</code></pre>
</div>

<center>
<img src="https://kimfetti.github.io/images/zorder.png" alt="Control layer order with zorder" width="600" />
<p><em> Plot objects can be brought to the foreground or pushed to the background by adjusting zorder.</em></p>
</center>

<h2 id="annotate-main-points-or-examples">Annotate Main Points or Examples</h2>

<p>Many visuals can benefit from the annotation of main points or specific, illustrative examples because these directly convey ideas and boost the validity of results.  To add text to a Matplotlib figure, just include annotation code specifying the desired text and its location.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">TEXT</span><span class="p">,</span> <span class="p">(</span><span class="n">X_POSITION</span><span class="p">,</span> <span class="n">Y_POSITION</span><span class="p">),</span> <span class="o">...</span><span class="p">)</span>
</code></pre>
</div>

<p>The cereal dataset used to produced this blog‚Äôs visuals contains nutritional information about several brand name cereals along with a feature labeled as ‚Äúrating.‚Äù  One might firstly assume that ‚Äúrating‚Äù is a score indicating cereals that consumers prefer.  In the zorder figure above, however, I built a quick linear regression model showing that the correlation between calories per cup and rating is practically non-existent.  It seems unlikely that calories would not factor into consumer preference, so we may already be skeptical about our initial assumption about ‚Äúrating.‚Äù</p>

<p>This misconception becomes even more obvious when examining the extremes: Cap‚Äôn Crunch is the lowest rated cereal while All-Bran with Extra Fiber rates the highest.  Annotating the figure with these representative examples immediately dispels false assumptions about ‚Äúrating.‚Äù  This rating information more likely indicates a cereal‚Äôs nutritional value. (I have also annotated the cereal with the most calories per cup; Grape Nuts is likely not meant to be consumed in such large quantities! üòÜ)</p>

<center>
<img src="https://kimfetti.github.io/images/annotate.png" alt="Annotate examples" width="700" />
<p><em> Annotating your visuals with a few examples can improve communication and add legitimacy.</em></p>
</center>

<h2 id="baseline-and-highlight">Baseline and Highlight</h2>

<p>Adding a baseline to your visuals helps set expectations.  A simple horizontal or vertical line provides others with appropriate context and often speeds along their understanding of your results.  Highlighting a specific region of interest, meanwhile, can further emphasize your conclusions and also facilitates communication with your audience.  Matplotlib offers several options for baselining and highlighting, including horizontal and vertical lines, shapes such as rectangles, horizontal and vertical span shading, and filling between two lines.</p>

<h3 id="horizontal-and-vertical-lines">Horizontal and Vertical Lines</h3>

<p>Let‚Äôs now consider the interplay between fat and sugar in our cereal dataset.  A basic scatter plot of this relationship doesn‚Äôt appear interesting at first, but after exploring further, we find the median fat per cup of cereal is just one gram because so many cereals contain no fat at all.  Adding this baseline helps people arrive at this finding much more quickly.</p>

<center>
<img src="https://kimfetti.github.io/images/baseline.png" alt="Add a baseline" width="800" />
<p><em> A horizontal or vertical baseline can help set the stage for your data.</em></p>
</center>

<p>In other cases you may want to completely remove the default x- and y-axes that Matplotlib provides and create your own axes based on some data aggregate.  This process requires three key steps: 1) remove all default spines, 2) remove tick marks, and 3) add new axes as horizontal and vertical lines.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c">#1. Remove spines</span>
<span class="k">for</span> <span class="n">spine</span> <span class="ow">in</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">spines</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
    <span class="n">spine</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>

<span class="c">#2. Remove ticks</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">([])</span>

<span class="c">#3. Add horizontal and vertical lines</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">Y_POSITION</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>  <span class="c">#horizontal line</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">X_POSITION</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>  <span class="c">#vertical line</span>
</code></pre>
</div>

<center>
<img src="https://kimfetti.github.io/images/new_axes.png" alt="Create new axes" width="550" />
<p><em> You can also create new axes for your data by removing spines and ticks and adding custom lines.</em></p>
</center>

<h3 id="rectangle">Rectangle</h3>

<p>Now that we have plotted the cereals‚Äô fat and sugar contents on new axes, it appears that very few cereals are low in sugar but high in fat.  That is, the upper-left quadrant is nearly empty.  This seems reasonable because cereals typically are not savory.  To make this point abundantly clear, we could direct attention to this low-sugar, high-fat area by drawing a rectangle around it and annotating.  Matplotlib provides access to several shapes through its <a href="https://matplotlib.org/3.1.1/api/patches_api.html#module-matplotlib.patches">patches module</a>, including a rectangle or even a <a href="https://matplotlib.org/3.1.1/gallery/shapes_and_collections/dolphin.html#sphx-glr-gallery-shapes-and-collections-dolphin-py">dolphin</a>.  Begin by importing code for the rectangle:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">matplotlib.patches</span> <span class="kn">import</span> <span class="n">Rectangle</span>
</code></pre>
</div>

<p>Then to create a rectangle on the figure, grab the current axes and add a rectangular patch with its location, width, and height:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">add_patch</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">((</span><span class="n">X_POSITION</span><span class="p">,</span> <span class="n">Y_POSITION</span><span class="p">),</span> <span class="n">WIDTH</span><span class="p">,</span> <span class="n">HEIGHT</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</code></pre>
</div>

<p>Here, the x- and y-positions refer to the placement of the lower-left corner of the rectangle.</p>

<center>
<img src="https://kimfetti.github.io/images/rectangle.png" alt="Add a rectangle" width="600" />
<p><em> To direct people toward a particular part of your visual, consider adding a rectangle.</em></p>
</center>

<h3 id="shading">Shading</h3>

<p>Shading provides an alternative option for drawing attention to a particular region of your figure, and there are a few ways to add shading with Matplotlib.</p>

<p>If you intend to highlight an entire horizontal or vertical area, just layer a span into your visual:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">plt</span><span class="o">.</span><span class="n">axhspan</span><span class="p">(</span><span class="n">Y_START</span><span class="p">,</span> <span class="n">Y_END</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>  <span class="c">#horizontal shading</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axvspan</span><span class="p">(</span><span class="n">X_START</span><span class="p">,</span> <span class="n">X_END</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>  <span class="c">#vertical shading</span>
</code></pre>
</div>

<p>Previously discussed properties like <code class="highlighter-rouge">alpha</code> and <code class="highlighter-rouge">zorder</code> are critical here because you will likely want to make your shading transparent and/or move it to the background.</p>

<center>
<img src="https://kimfetti.github.io/images/shading.png" alt="Shading for highlighting" width="800" />
<p><em> Shading also provides an effective way to highlight a particular region of your plot.</em></p>
</center>

<p>If the area you would like to shade follows more complicated logic, however, you may instead <a href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.fill_between.html">shade between two user-defined lines</a>.  This approach takes a set of x-values, two sets of y-values for the first and second lines, and an optional <code class="highlighter-rouge">where</code> argument that allows you to use logic to filter down to your region of interest.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">X_VALUES</span><span class="p">,</span> <span class="n">Y_LINE1</span><span class="p">,</span> <span class="n">Y_LINE2</span><span class="p">,</span> <span class="n">WHERE</span><span class="o">=</span><span class="n">FILTER</span> <span class="n">LOGIC</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</code></pre>
</div>

<p>To shade the same area that was previously highlighted with a rectangle, simply define an array of equally spaced sugar values for the x-axis, fill between the median and max fat values on the y-axis (high fat), and filter down to sugar values less than the median (low sugar).</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">sugars</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">sugars_per_cup</span><span class="o">.</span><span class="nb">min</span><span class="p">(),</span> <span class="n">df</span><span class="o">.</span><span class="n">sugars_per_cup</span><span class="o">.</span><span class="nb">max</span><span class="p">(),</span> <span class="mi">1000</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">sugars</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">fat_per_cup</span><span class="o">.</span><span class="n">median</span><span class="p">(),</span> <span class="n">df</span><span class="o">.</span><span class="n">fat_per_cup</span><span class="o">.</span><span class="nb">max</span><span class="p">(),</span> 
                       <span class="n">WHERE</span><span class="o">=</span><span class="n">sugars</span> <span class="o">&lt;</span> <span class="n">df</span><span class="o">.</span><span class="n">sugars_per_cup</span><span class="o">.</span><span class="n">median</span><span class="p">(),</span> <span class="o">...</span><span class="p">)</span>
</code></pre>
</div>

<center>
<img src="https://kimfetti.github.io/images/fill_between.png" alt="Fill between lines" width="600" />
<p><em> More complex shading logic is accomplished by filling between two lines and applying a filter.</em></p>
</center>

<h2 id="conclusion">Conclusion</h2>

<p>Matplotlib often gets a bad reputation due to its poor defaults and the shear amount of code needed to produce decent looking visuals.  Hopefully, the tips provided in this blog will help you address the first issue, though I‚Äôll admit that the final few example figures required many updates and subsequently a sizable amount of code.  If the required bulk of code bothers you, the <a href="https://seaborn.pydata.org/">Seaborn</a> visualization library is an excellent alternative to Matplotlib.  It comes with better defaults overall, demands fewer lines of code, and supports customization via traditional Matplotlib syntax if needed.</p>

<p>The main thing to keep in mind when you visualize data‚Äìno matter which package you choose‚Äìis your audience.  The suggestions I‚Äôve offered here aim to smooth out the data communication process by 1) removing extraneous bits like unnecessary spines or tick marks, 2) telling the data story quicker by setting expectations with layering and baselines, and 3) highlighting main conclusions with shading and annotations.  The resulting aesthetics also improve, but the primary goal is stronger and more seamless data communication.</p>

<p><em>I recently shared content similar to this in a data visualization talk at <a href="https://odsc.com/training/portfolio/custom-data-visualizations-with-python/">ODSC NYC</a>.  You can access my original conference materials as well as the code that powers each example figure in the links below.</em></p>

<table>
  <tbody>
    <tr>
      <td><a href="https://github.com/kimfetti/Blog/blob/master/matplotlib_improvements.ipynb">Check out this code on GitHub!</a></td>
      <td>¬†</td>
      <td><a href="http://bit.ly/odscNyc19_dataviz">Check out my ODSC conference materials with Google Colab!</a></td>
    </tr>
  </tbody>
</table>



			
						<div id="page-meta" class="t30">
				<p>
					<!-- Look the author details up from the site config. -->
					
					<!-- Output author details if some exist. -->
					

				
				<time class="icon-calendar pr20" datetime="2019-08-12T00:00:00-04:00" itemprop="datePublished"> 2019-08-12</time>
				

				<span class="icon-archive pr20"> VISUALIZATIONS</span>
				<br />
				<span class="pr20"></span>
			</p>

			
			<div id="post-nav" class="row">
				
				<div class="small-5 columns"><a class="button small radius prev" href="http://localhost:4000//mathematics/visualizations/planetary-birthday-problem/">&laquo; Solving the Birthday Problem on Mars</a></div><!-- /.small-4.columns -->
				
				<div class="small-2 columns text-center"><a class="radius button small" href="http://localhost:4000//blog/archive/" title="Blog Archive">Archive</a></div><!-- /.small-4.columns -->
				
				<div class="small-5 columns text-right"><a class="button small radius next" href="http://localhost:4000//algorithms/literature%20reviews/object-detection-challenges/">5 Significant Object Detection Challenges and Solutions &raquo;</a></div><!-- /.small-4.columns -->
				
			</div>
			
			</div><!--  /.page-meta -->

			

			
						
				<h3 id="comments" class="t60">Dialogue &amp; Discussion</h3>
			    <div id="disqus_thread"></div>
			    <script type="text/javascript">
			        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
			        var disqus_shortname = 'kimfetti-github-io'; 
			        var disqus_identifier = '/visualizations/matplotlib-improvements/';

			        /* * * DON'T EDIT BELOW THIS LINE * * */
			        (function() {
			            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
			            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
			            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
			        })();
			    </script>
			    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
			



			

		</article>
	</div><!-- /.medium-12.columns -->
</div><!-- /.row -->




	
	    <div id="up-to-top" class="row">
      <div class="small-12 columns" style="text-align: right;">
        <a class="iconfont" href="#top-of-page">&#xf108;</a>
      </div><!-- /.small-12.columns -->
    </div><!-- /.row -->


    <footer id="footer-content" class="bg-grau">
      <div id="footer">
        <div class="row">
          <div class="medium-6 large-5 columns">
            <h5 class="shadow-black">About This Site</h5>

            <p class="shadow-black">
              Kimberly Fessel is a Senior Data Scientist at Metis. Her enthusiasm for data storytelling often leads her toward better math, better visuals, and better science!
              <a href="http://localhost:4000//info/">More ‚Ä∫</a>
            </p>
          </div><!-- /.large-6.columns -->


          <div class="small-6 medium-3 large-3 large-offset-1 columns">
            
              
                <h5 class="shadow-black">Extras</h5>
              
            
              
            
              
            
              
            

              <ul class="no-bullet shadow-black">
              
                
                  <li >
                    <a href="http://localhost:4000/"  title=""></a>
                  </li>
              
                
                  <li >
                    <a href="http://localhost:4000//info/"  title="Learn more about Kimberly">About</a>
                  </li>
              
                
                  <li >
                    <a href="http://localhost:4000//contact/"  title="Contact Kimberly">Contact</a>
                  </li>
              
                
                  <li >
                    <a href="https://www.thisismetis.com" target="_blank"  title="Learn more about Metis">This is Metis</a>
                  </li>
              
              </ul>
          </div><!-- /.large-4.columns -->


          <div class="small-6 medium-3 large-3 columns">
            
              
                <h5 class="shadow-black">Thank You</h5>
              
            
              
            

            <ul class="no-bullet shadow-black">
            
              
                <li >
                  <a href="http://localhost:4000/"  title=""></a>
                </li>
            
              
                <li class="network-entypo" >
                  <a href="http://www.connellypartners.com/who-we-are/" target="_blank"  title="Photoshoot @ CP">Photoshoot @ CP</a>
                </li>
            
            </ul>
          </div><!-- /.large-3.columns -->
        </div><!-- /.row -->

      </div><!-- /#footer -->


      <div id="subfooter">
        <nav class="row">
          <section id="subfooter-left" class="small-12 medium-6 columns credits">
            <p>Template with &hearts; by <a href="http://phlow.de/">Phlow</a> with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> based on <a href="http://phlow.github.io/feeling-responsive/">Feeling Responsive</a>.</p>
          </section>

          <section id="subfooter-right" class="small-12 medium-6 columns">
            <ul class="inline-list social-icons">
            
              <li><a href="https://www.linkedin.com/in/kimberlyfessel/" target="_blank" class="icon-linkedin" title="Professional profile"></a></li>
            
              <li><a href="http://github.com/kimfetti" target="_blank" class="icon-github" title="Code and more"></a></li>
            
            </ul>
          </section>
        </nav>
      </div><!-- /#subfooter -->
    </footer>

	

	


<script src="http://localhost:4000//assets/js/javascript.min.js"></script>







<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-131656438-1', 'auto');
  ga('set', 'anonymizeIp', true);
  ga('send', 'pageview');

</script>








</body>
</html>

